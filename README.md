# 🗺️ ParkingTour

> **실시간 지도 기반 장소 추천 및 주차 정보 서비스**

ParkingTour는 사용자들이 지도를 통해 새로운 장소를 발견하고, 실시간으로 주차 정보와 장소 정보를 공유할 수 있는 웹 애플리케이션입니다.

## 🚀 프로젝트 개요

### 핵심 기능
- 📍 **실시간 지도 서비스**: 카카오 지도 API 기반 인터랙티브 지도
- 🅿️ **주차 정보 공유**: 실시간 주차 가능 여부 및 요금 정보
- 🏪 **장소 추천**: 맛집, 관광지, 편의시설 등 다양한 장소 정보
- 👥 **커뮤니티 기능**: 사용자 리뷰, 평점, 댓글 시스템
- 📱 **모바일 최적화**: 반응형 디자인으로 모든 기기에서 완벽 지원

### 기술 스택

#### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: 순수 CSS + 커스텀 디자인 시스템
- **지도**: 카카오 지도 API
- **상태 관리**: Zustand
- **폼 관리**: React Hook Form + Zod
- **애니메이션**: Framer Motion
- **아이콘**: Heroicons + Lucide React

#### Backend (예정)
- **Database**: Convex (실시간 데이터베이스)
- **인증**: NextAuth.js + Google OAuth
- **API**: RESTful API + 실시간 구독

## 📁 프로젝트 구조

```
ParkingTour/
├── frontend/                    # Next.js 프론트엔드
│   ├── src/
│   │   ├── app/                # Next.js App Router 페이지
│   │   │   ├── layout.tsx      # 루트 레이아웃
│   │   │   ├── page.tsx        # 메인 지도 페이지
│   │   │   ├── auth/login/     # 로그인 페이지
│   │   │   └── profile/        # 프로필 페이지
│   │   ├── components/         # 재사용 가능한 컴포넌트
│   │   │   ├── ui/            # 기본 UI 컴포넌트
│   │   │   ├── layout/        # 레이아웃 컴포넌트
│   │   │   └── map/           # 지도 관련 컴포넌트
│   │   ├── styles/            # 스타일 파일
│   │   ├── types/             # TypeScript 타입 정의
│   │   └── utils/             # 유틸리티 함수
│   ├── .env.local             # 환경변수 (로컬)
│   ├── next.config.js         # Next.js 설정
│   └── package.json           # 의존성 관리
├── rules/                      # 프로젝트 문서
│   ├── frontend/              # 프론트엔드 관련 문서
│   │   ├── CHANGELOG.md       # 변경 로그
│   │   └── kakao_setup.md     # 카카오 API 설정 가이드
│   ├── design.md              # 디자인 가이드라인
│   └── convex.md              # 백엔드 설계
└── README.md                  # 프로젝트 개요 (이 파일)
```
## 🧩 주요 컴포넌트

### UI 컴포넌트
- **Button**: Primary, Secondary, Ghost, Danger 변형
- **Card**: Header, Content, Footer 구조
- **Input**: Label, Error, Helper text, Icon 지원

### 레이아웃 컴포넌트
- **MainNavigation**: 상단 고정 네비게이션
- **MobileBottomNavigation**: 모바일 하단 네비게이션
- **MobileOptimized**: 반응형 레이아웃 래퍼

### 지도 컴포넌트
- **KakaoMap**: 카카오 지도 표시 및 제어
- **MapMarker**: 동적 마커 생성 및 관리

## 📱 주요 페이지

### 🏠 메인 페이지 (`/`)
- **전체화면 지도**: 카카오 지도 API 기반
- **플로팅 검색바**: 상단 고정 검색 인터페이스
- **마커 정보 패널**: 우측 사이드 패널로 선택된 마커 정보 표시
- **플로팅 액션 버튼**: 새 마커 추가 기능

### 🔐 로그인 페이지 (`/auth/login`)
- **미니멀 디자인**: 중앙 정렬 카드 레이아웃
- **Google OAuth**: 간편 로그인 지원
- **개인정보 보호**: 익명 사용 옵션

### 👤 프로필 페이지 (`/profile`)
- **익명 사용자 정보**: 개인정보 보호를 위한 익명 표시
- **활동 통계**: 등록 마커, 받은 좋아요, 작성 댓글 수
- **최근 활동**: 타임라인 형태의 활동 내역

## 🛠️ 개발 환경 설정

### 1. 프로젝트 클론
```bash
git clone <repository-url>
cd ParkingTour
```

### 2. 의존성 설치
```bash
cd frontend
npm install
```

### 3. 환경변수 설정
```bash
# .env.local 파일 생성
cp .env.local.example .env.local

# 카카오 API 키 설정
NEXT_PUBLIC_KAKAO_APP_KEY=your_kakao_app_key
```

### 4. 개발 서버 실행
```bash
npm run dev
```

브라우저에서 `http://localhost:3000` 접속

## 🗺️ 카카오 지도 API 설정

### 필수 설정 단계
1. [카카오 개발자 콘솔](https://developers.kakao.com/console) 접속
2. 새 애플리케이션 생성
3. Web 플랫폼 등록 (`http://localhost:3000`)
4. JavaScript 키 발급
5. 카카오맵 서비스 활성화
6. `.env.local`에 API 키 설정

자세한 설정 방법은 [`frontend/README_KAKAO_SETUP.md`](frontend/README_KAKAO_SETUP.md) 참조

## 🗺️ 카카오맵 개발 내용 요약

### 📍 핵심 구현 사항 (한 줄 요약)
- **KakaoMap 컴포넌트**: react-kakao-maps-sdk 기반 재사용 가능한 지도 컴포넌트 구현 (draggable 속성으로 드래그 이동 지원)
- **MapMarker 컴포넌트**: 드래그, 클릭, 커스텀 이미지 지원하는 마커 컴포넌트 개발
- **우클릭 마커 생성**: 지도 우클릭 시 컨텍스트 메뉴로 마커 즉시 생성 기능 구현 (로그인 사용자만 접근 가능)
- **임시 마커 시스템**: 마커 생성 전 빨간 원형 임시 마커로 위치 미리보기 제공
- **마커 상세 모달**: 마커 클릭 시 중앙 모달창으로 상세 정보 표시 기능 구현
- **커스텀 마커 이미지**: 토글 버튼으로 기본/커스텀 마커 스타일 실시간 전환 기능 (플로팅 버튼 제거로 UI 정리)
- **지도 이벤트 처리**: onClick, onRightClick, onDragEnd 등 다양한 지도 이벤트 핸들링
- **위치 정보 표시**: 클릭한 위치의 위도/경도 좌표를 실시간으로 화면에 표시
- **반응형 지도**: 모바일, 태블릿, 데스크톱 환경에 최적화된 반응형 지도 구현
- **타입스크립트 지원**: 카카오 지도 API 전용 타입 정의 파일(kakao.d.ts) 작성
- **상태 관리**: React useState로 지도 인스턴스, 마커 위치, 모달 상태 효율적 관리
- **에러 처리**: 지도 로딩 실패, API 키 오류 등 예외 상황 처리 로직 구현
- **인증 기반 UI 제어**: 로그인한 사용자만 마커 생성 버튼 및 우클릭 컨텍스트 메뉴 사용 가능하도록 접근 제어 구현

## 🎯 UX/UI 디자인 원칙

### 사용자 경험 (UX)
- **직관적 네비게이션**: 최대 2번 클릭으로 주요 기능 접근
- **즉시 피드백**: 모든 사용자 행동에 대한 시각적 피드백
- **모바일 우선**: 터치 친화적 44px 타겟, 스와이프 제스처

### 접근성 (Accessibility)
- **키보드 네비게이션**: ESC, Tab 키 지원
- **스크린 리더**: ARIA 라벨과 설명 추가
- **색상 대비**: 고대비 모드 지원
- **포커스 관리**: 명확한 포커스 표시

### 반응형 디자인
- **모바일**: 320px ~ 768px
- **태블릿**: 768px ~ 1024px  
- **데스크톱**: 1024px 이상

## 🚀 배포 및 운영

### 개발 환경
- **URL**: `http://localhost:3000`
- **Hot Reload**: 코드 변경 시 자동 새로고침
- **개발자 도구**: React DevTools, Next.js DevTools

### 프로덕션 빌드
```bash
npm run build
npm start
```

### 성능 최적화
- **이미지 최적화**: Next.js Image 컴포넌트
- **코드 분할**: 동적 import 및 lazy loading
- **캐싱**: 브라우저 캐시 및 CDN 활용

## 🎯 최신 기능 업데이트 (2024)

### 🆕 인터랙티브 마커 시스템
최근 구현된 고급 마커 생성 및 관리 시스템으로 사용자 경험이 크게 향상되었습니다.

#### ✨ 주요 신기능
1. **우클릭 마커 생성**
   - 지도에서 마우스 우클릭으로 즉시 마커 생성 가능
   - 컨텍스트 메뉴를 통한 직관적인 인터페이스
   - 정확한 위치 지정으로 사용자 편의성 극대화

2. **임시 마커 시스템**
   - 우클릭 시 빨간색 원형 임시 마커 즉시 표시
   - 마커 생성 취소 시 자동 제거
   - 시각적 피드백으로 위치 확인 용이

3. **마커 상세 모달**
   - 기존 사이드 패널 대신 중앙 모달창 사용
   - 마커 이름, 위치 좌표, 설명, 카테고리 표시
   - 반응형 디자인으로 모든 기기에서 최적화

4. **커스텀 마커 이미지**
   - 우하단 토글 버튼으로 마커 스타일 실시간 전환
   - 기본 마커 ↔ 커스텀 마커 즉시 변경
   - 모든 마커(샘플, 사용자 생성)에 일괄 적용

#### 🔧 기술적 구현
- **상태 관리**: React useState를 활용한 효율적인 상태 관리
- **이벤트 처리**: react-kakao-maps-sdk의 내장 이벤트 시스템 활용
- **UI 컴포넌트**: 모달, 컨텍스트 메뉴 등 재사용 가능한 컴포넌트
- **SVG 마커**: Base64 인코딩된 SVG로 경량화된 임시 마커

#### 📱 사용자 경험 개선
- **직관적 조작**: 우클릭 → 컨텍스트 메뉴 → 마커 생성의 자연스러운 플로우
- **즉시 피드백**: 모든 사용자 행동에 대한 시각적 반응
- **접근성**: 키보드 네비게이션 및 ESC 키 지원
- **모바일 최적화**: 터치 인터페이스에 최적화된 버튼 크기

---

## 📊 프로젝트 현황

### ✅ 완료된 기능
- [x] **기본 프로젝트 구조** - Next.js 14 + TypeScript
- [x] **디자인 시스템** - 컬러, 타이포그래피, 간격
- [x] **UI 컴포넌트** - Button, Card, Input
- [x] **레이아웃 시스템** - 네비게이션, 모바일 최적화
- [x] **주요 페이지** - 홈, 로그인, 프로필
- [x] **카카오 지도 통합** - 지도 표시, 마커, 인포윈도우
- [x] **반응형 디자인** - 모바일/데스크톱 지원
- [x] **접근성** - ARIA, 키보드 네비게이션
- [x] **오류 처리** - 사용자 친화적 오류 메시지
- [x] **🆕 우클릭 마커 생성** - 지도 우클릭으로 즉시 마커 생성
- [x] **🆕 임시 마커 시스템** - 마커 생성 전 위치 미리보기
- [x] **🆕 마커 상세 모달** - 마커 클릭 시 상세 정보 모달 표시
- [x] **🆕 커스텀 마커 이미지** - 토글 버튼으로 마커 스타일 전환
- [x] **🆕 컨텍스트 메뉴** - 우클릭 시 마커 생성 옵션 제공

### 🔄 진행 중인 작업
- [ ] **실제 지도 기능** - 장소 검색, 경로 안내
- [ ] **사용자 인증** - NextAuth.js + Google OAuth
- [ ] **실시간 기능** - Convex 연동
- [ ] **상태 관리** - Zustand 스토어 구현

### 📋 향후 계획
- [ ] **백엔드 API** - Convex 데이터베이스 연동
- [ ] **마커 CRUD** - 생성, 수정, 삭제 기능
- [ ] **댓글 시스템** - 실시간 댓글 및 평점
- [ ] **알림 기능** - 실시간 알림 시스템
- [ ] **검색 기능** - 장소명, 카테고리 검색
- [ ] **필터링** - 거리, 평점, 카테고리별 필터
- [ ] **즐겨찾기** - 관심 장소 저장 기능
- [ ] **공유 기능** - SNS 공유, 링크 공유
- [ ] **PWA 지원** - 오프라인 사용, 앱 설치
- [ ] **테스트** - Jest + RTL, Playwright E2E

## 🤝 기여 가이드

### 개발 워크플로우
1. **이슈 생성**: 새로운 기능이나 버그 리포트
2. **브랜치 생성**: `feature/기능명` 또는 `fix/버그명`
3. **개발 진행**: 코드 작성 및 테스트
4. **Pull Request**: 코드 리뷰 요청
5. **머지**: 승인 후 main 브랜치에 병합

### 코딩 컨벤션
- **TypeScript**: 엄격한 타입 체크
- **ESLint**: 코드 품질 관리
- **Prettier**: 코드 포맷팅
- **Conventional Commits**: 커밋 메시지 규칙

## 📞 문의 및 지원

### 개발팀 연락처
- **프로젝트 관리자**: ParkingTour Team
- **기술 문의**: GitHub Issues
- **버그 리포트**: GitHub Issues

### 유용한 링크
- [카카오 지도 API 문서](https://apis.map.kakao.com/web/)
- [Next.js 공식 문서](https://nextjs.org/docs)
- [React 공식 문서](https://react.dev/)
- [TypeScript 공식 문서](https://www.typescriptlang.org/)

---

## 📈 통계 (업데이트)

- **총 파일 수**: 25+ 개 생성/수정
- **코드 라인 수**: 4,000+ 라인
- **컴포넌트 수**: 15+ 개
- **페이지 수**: 3개 (홈, 로그인, 프로필)
- **주요 기능**: 5개 (지도, 마커 생성, 모달, 검색, 네비게이션)
- **개발 기간**: 집중적인 구현 세션 + 고급 기능 추가

### 🎯 최근 개발 성과
- ✅ **TypeError 해결**: mapInstance.getContainer 오류 완전 해결
- ✅ **UX 개선**: 우클릭 마커 생성으로 사용자 편의성 대폭 향상
- ✅ **모달 시스템**: 기존 사이드 패널을 모던한 모달로 교체
- ✅ **시각적 피드백**: 임시 마커로 즉시 위치 확인 가능
- ✅ **커스터마이징**: 마커 스타일 실시간 전환 기능

---

<div align="center">

**🗺️ ParkingTour - 지도로 발견하는 새로운 장소들 🗺️**

*Made with ❤️ by ParkingTour Team*

</div>